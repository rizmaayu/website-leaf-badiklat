var ae=Object.create;var N=Object.defineProperty;var ie=Object.getOwnPropertyDescriptor;var pe=Object.getOwnPropertyNames;var ue=Object.getPrototypeOf,ce=Object.prototype.hasOwnProperty;var le=(r,n)=>{for(var o in n)N(r,o,{get:n[o],enumerable:!0})},J=(r,n,o,u)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of pe(n))!ce.call(r,s)&&s!==o&&N(r,s,{get:()=>n[s],enumerable:!(u=ie(n,s))||u.enumerable});return r};var Q=(r,n,o)=>(o=r!=null?ae(ue(r)):{},J(n||!r||!r.__esModule?N(o,"default",{value:r,enumerable:!0}):o,r)),de=r=>J(N({},"__esModule",{value:!0}),r);var ye={};le(ye,{Head:()=>te,Link:()=>re,createInertiaApp:()=>j,router:()=>ge,useForm:()=>W,usePage:()=>q,useRemember:()=>A});module.exports=de(ye);var se=require("@inertiajs/core");var Z=require("@inertiajs/core"),ee=require("react");var O=require("@inertiajs/core"),k=require("react");var z=require("react"),G=(0,z.createContext)(void 0);G.displayName="InertiaHeadContext";var M=G;var X=require("react"),Y=(0,X.createContext)(void 0);Y.displayName="InertiaPageContext";var L=Y;function $({children:r,initialPage:n,initialComponent:o,resolveComponent:u,titleCallback:s,onHeadUpdate:F}){let[d,T]=(0,k.useState)({component:o||null,page:n,key:null}),l=(0,k.useMemo)(()=>(0,O.createHeadManager)(typeof window>"u",s||(f=>f),F||(()=>{})),[]);if((0,k.useEffect)(()=>{O.router.init({initialPage:n,resolveComponent:u,swapComponent:async({component:f,page:e,preserveState:c})=>{T(a=>({component:f,page:e,key:c?a.key:Date.now()}))}}),O.router.on("navigate",()=>l.forceUpdate())},[]),!d.component)return(0,k.createElement)(M.Provider,{value:l},(0,k.createElement)(L.Provider,{value:d.page},null));let y=r||(({Component:f,props:e,key:c})=>{let a=(0,k.createElement)(f,{key:c,...e});return typeof f.layout=="function"?f.layout(a):Array.isArray(f.layout)?f.layout.concat(a).reverse().reduce((P,S)=>(0,k.createElement)(S,{children:P,...e})):a});return(0,k.createElement)(M.Provider,{value:l},(0,k.createElement)(L.Provider,{value:d.page},y({Component:d.component,key:d.key,props:d.page.props})))}$.displayName="Inertia";async function j({id:r="app",resolve:n,setup:o,title:u,progress:s={},page:F,render:d}){let T=typeof window>"u",l=T?null:document.getElementById(r),y=F||JSON.parse(l.dataset.page),f=a=>Promise.resolve(n(a)).then(P=>P.default||P),e=[],c=await f(y.component).then(a=>o({el:l,App:$,props:{initialPage:y,initialComponent:a,resolveComponent:f,titleCallback:u,onHeadUpdate:T?P=>e=P:null}}));if(!T&&s&&(0,Z.setupProgress)(s),T){let a=await d((0,ee.createElement)("div",{id:r,"data-page":JSON.stringify(y)},c));return{head:e,body:a}}}var h=Q(require("react"),1);var fe=function({children:r,title:n}){let o=(0,h.useContext)(M),u=(0,h.useMemo)(()=>o.createProvider(),[o]);(0,h.useEffect)(()=>()=>{u.disconnect()},[u]);function s(e){return["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].indexOf(e.type)>-1}function F(e){let c=Object.keys(e.props).reduce((a,P)=>{if(["head-key","children","dangerouslySetInnerHTML"].includes(P))return a;let S=e.props[P];return S===""?a+` ${P}`:a+` ${P}="${S}"`},"");return`<${e.type}${c}>`}function d(e){return typeof e.props.children=="string"?e.props.children:e.props.children.reduce((c,a)=>c+T(a),"")}function T(e){let c=F(e);return e.props.children&&(c+=d(e)),e.props.dangerouslySetInnerHTML&&(c+=e.props.dangerouslySetInnerHTML.__html),s(e)||(c+=`</${e.type}>`),c}function l(e){return h.default.cloneElement(e,{inertia:e.props["head-key"]!==void 0?e.props["head-key"]:""})}function y(e){return T(l(e))}function f(e){let c=h.default.Children.toArray(e).filter(a=>a).map(a=>y(a));return n&&!c.find(a=>a.startsWith("<title"))&&c.push(`<title inertia>${n}</title>`),c}return u.update(f(r)),null},te=fe;var x=require("@inertiajs/core"),I=require("react"),v=()=>{},me=(0,I.forwardRef)(({children:r,as:n="a",data:o={},href:u,method:s="get",preserveScroll:F=!1,preserveState:d=null,replace:T=!1,only:l=[],headers:y={},queryStringArrayFormat:f="brackets",onClick:e=v,onCancelToken:c=v,onBefore:a=v,onStart:P=v,onProgress:S=v,onFinish:D=v,onCancel:C=v,onSuccess:B=v,onError:E=v,...V},w)=>{let H=(0,I.useCallback)(i=>{e(i),(0,x.shouldIntercept)(i)&&(i.preventDefault(),x.router.visit(u,{data:o,method:s,preserveScroll:F,preserveState:d??s!=="get",replace:T,only:l,headers:y,onCancelToken:c,onBefore:a,onStart:P,onProgress:S,onFinish:D,onCancel:C,onSuccess:B,onError:E}))},[o,u,s,F,d,T,l,y,e,c,a,P,S,D,C,B,E]);n=n.toLowerCase(),s=s.toLowerCase();let[R,t]=(0,x.mergeDataIntoQueryString)(s,u||"",o,f);return u=R,o=t,n==="a"&&s!=="get"&&console.warn(`Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.

Please specify a more appropriate element using the "as" attribute. For example:

<Link href="${u}" method="${s}" as="button">...</Link>`),(0,I.createElement)(n,{...V,...n==="a"?{href:u}:{},ref:w,onClick:H},r)}),re=me;var _=require("@inertiajs/core"),oe=Q(require("lodash.isequal"),1),g=require("react");var K=require("@inertiajs/core"),U=require("react");function A(r,n){let[o,u]=(0,U.useState)(()=>{let s=K.router.restore(n);return s!==void 0?s:r});return(0,U.useEffect)(()=>{K.router.remember(o,n)},[o,n]),[o,u]}function W(r,n){let o=(0,g.useRef)(null),u=typeof r=="string"?r:null,[s,F]=(0,g.useState)((typeof r=="string"?n:r)||{}),d=(0,g.useRef)(null),T=(0,g.useRef)(null),[l,y]=u?A(s,`${u}:data`):(0,g.useState)(s),[f,e]=u?A({},`${u}:errors`):(0,g.useState)({}),[c,a]=(0,g.useState)(!1),[P,S]=(0,g.useState)(!1),[D,C]=(0,g.useState)(null),[B,E]=(0,g.useState)(!1),[V,w]=(0,g.useState)(!1),H=t=>t;(0,g.useEffect)(()=>(o.current=!0,()=>{o.current=!1}),[]);let R=(0,g.useCallback)((t,i,p={})=>{let b={...p,onCancelToken:m=>{if(d.current=m,p.onCancelToken)return p.onCancelToken(m)},onBefore:m=>{if(E(!1),w(!1),clearTimeout(T.current),p.onBefore)return p.onBefore(m)},onStart:m=>{if(S(!0),p.onStart)return p.onStart(m)},onProgress:m=>{if(C(m),p.onProgress)return p.onProgress(m)},onSuccess:m=>{if(o.current&&(S(!1),C(null),e({}),a(!1),E(!0),w(!0),T.current=setTimeout(()=>{o.current&&w(!1)},2e3)),p.onSuccess)return p.onSuccess(m)},onError:m=>{if(o.current&&(S(!1),C(null),e(m),a(!0)),p.onError)return p.onError(m)},onCancel:()=>{if(o.current&&(S(!1),C(null)),p.onCancel)return p.onCancel()},onFinish:()=>{if(o.current&&(S(!1),C(null)),d.current=null,p.onFinish)return p.onFinish()}};t==="delete"?_.router.delete(i,{...b,data:H(l)}):_.router[t](i,H(l),b)},[l,e]);return{data:l,setData(t,i){y(typeof t=="string"?{...l,[t]:i}:typeof t=="function"?p=>t(p):t)},isDirty:!(0,oe.default)(l,s),errors:f,hasErrors:c,processing:P,progress:D,wasSuccessful:B,recentlySuccessful:V,transform(t){H=t},setDefaults(t,i){F(typeof t>"u"?()=>l:p=>({...p,...typeof t=="string"?{[t]:i}:t}))},reset(...t){t.length===0?y(s):y(Object.keys(s).filter(i=>t.includes(i)).reduce((i,p)=>(i[p]=s[p],i),{...l}))},setError(t,i){e(p=>{let b={...p,...typeof t=="string"?{[t]:i}:t};return a(Object.keys(b).length>0),b})},clearErrors(...t){e(i=>{let p=Object.keys(i).reduce((b,m)=>({...b,...t.length>0&&!t.includes(m)?{[m]:i[m]}:{}}),{});return a(Object.keys(p).length>0),p})},submit:R,get(t,i){R("get",t,i)},post(t,i){R("post",t,i)},put(t,i){R("put",t,i)},patch(t,i){R("patch",t,i)},delete(t,i){R("delete",t,i)},cancel(){d.current&&d.current.cancel()}}}var ne=require("react");function q(){let r=(0,ne.useContext)(L);if(!r)throw new Error("usePage must be used within the Inertia component");return r}var ge=se.router;
//# sourceMappingURL=index.js.map
